!function(o){"use strict";var e,n,t,i,s,a,c=o("#loftocean-page-meta-box");c.length&&(e=c.find("input.color-picker"),g=c.find(".background-image"),n=c.find(".background-settings"),t={input:t="",frame:"",frames:{},mediaFrame:function(){return this.frames[this.frame]||(this.frames[this.frame]=wp.media({id:"cs-meta-box-media-uploader",editing:!0,library:{type:"image"==this.frame?"image":["image","video"]},multiple:!1}).on("select",function(){var e=t.frames[t.frame].state().get("selection").first().toJSON();t.input.trigger("cozystay.metabox.media.changed",e),t.input=""}).on("open",function(){var e=t.frames[t.frame].state().get("selection"),i=t.input.val();e.reset(),i&&""!==i&&((i=wp.media.attachment(i)).fetch(),e.add(i?[i]:[]))})),this.frames[this.frame]},open:function(e,i){this.input=e.first(),this.frame=i||"image",this.mediaFrame().open()}},e.length&&e.each(function(){var t=o(this);t.wpColorPicker({change:function(e,i){i=i.color?i.color.toString():"";t.val(i)},clear:function(){t.val("")}})}),g.length&&g.on("click",".button.upload-button, .placeholder",function(e){e.preventDefault(),t.open(o(this).parent().siblings("input.image-id[type=hidden]"),"image")}).on("click",".button.remove-button",function(e){e.preventDefault();var i=o(this),t=i.parent(),s=t.siblings(".placeholder"),e=t.siblings(".thumbnail-image");i.hide(),e.hide(),s.show(),t.siblings("input[type=hidden]").val(""),n.hide()}).on("cozystay.metabox.media.changed","input.image-id[type=hidden]",function(e,i){var t,s;e.preventDefault(),i&&(s=(t=o(this)).siblings(".thumbnail-image"),e=t.siblings(".actions"),s.find("img").attr("src",i.url),s.show(),t.siblings(".placeholder").hide(),e.find(".remove-button").show(),t.val(i.id).siblings("input.image-url").val(i.url),n.show())}),o("input[name=_thumbnail_id]")&&o(document).on("ajaxSuccess",function(){var e;arguments[3]&&arguments[3].data&&("string"==typeof arguments[3].data||arguments[3].data instanceof String)&&((e=o("<div>").append(o(arguments[3].data)))&&e.find("input[name=_thumbnail_id]").length&&(0<parseInt(e.find("input[name=_thumbnail_id]").val()||0,10)?n.show():n.hide()))}),s=(i=o("#loftocean-page-meta-box")).find(".cs-single-header-source-wrapper"),a=i.find(".cs-single-custom-site-headers-wrapper"),i.on("change","#cozystay_single_page_hide_site_header",function(e){o(this).is(":checked")?(s.hide(),a.hide()):(s.show(),"custom"==i.find("select[name=cozystay_single_page_site_header_source]").val()?a.show():a.hide())}).on("change","select[name=cozystay_single_page_site_header_source]",function(e){"custom"==o(this).val()?a.show():a.hide()})),o("#loftocean-post-meta-box").length&&(s=(i=o("#loftocean-post-meta-box")).find(".cs-single-header-source-wrapper"),a=i.find(".cs-single-custom-site-headers-wrapper"),i.on("change","#cozystay_single_post_hide_site_header",function(e){o(this).is(":checked")?(s.hide(),a.hide()):(s.show(),"custom"==i.find("select[name=cozystay_single_post_site_header_source]").val()?a.show():a.hide())}).on("change","select[name=cozystay_single_post_site_header_source]",function(e){"custom"==o(this).val()?a.show():a.hide()}));var r,h,l,m,u,d,_,g=o("#loftocean-post-meta-box, #loftocean-page-meta-box");g.length&&(o(".cs-single-mobile-menu-source-wrapper").length&&(r=o(".cs-single-custom-mobile-menu-wrapper"),h=o("select[name=cozystay_single_custom_mobile_menu_width]"),l=o(".cs-single-custom-mobile-menu-custom-width-wrapper"),o(".cs-single-mobile-menu-source-wrapper [name=cozystay_single_custom_mobile_menu_source]").on("change",function(e){var i=h.val();"custom"==o(this).val()?(r.show(),"custom-width"==i?l.show():l.hide()):(r.hide(),l.hide())}),h.on("change",function(e){"custom-width"==o(this).val()?l.show():l.hide()})),o(".cs-single-site-footer-main-source-wrapper")&&(m=o(".cs-single-custom-footer-main-wrapper"),u=g.find(".cs-single-site-footer-main-source-wrapper"),g.on("change","#cozystay_single_page_site_footer_hide_main, #cozystay_single_post_site_footer_hide_main",function(e){o(this).is(":checked")?(m.hide(),u.hide()):(u.show(),"custom"==u.find("select[name=cozystay_single_custom_site_footer_main_source]").val()?m.show():m.hide())}).on("change","select[name=cozystay_single_custom_site_footer_main_source]",function(e){"custom"==o(this).val()?m.show():m.hide()})),o(".cs-single-site-footer-above-source-wrapper")&&(d=o(".cs-single-custom-footer-above-wrapper"),_=g.find(".cs-single-site-footer-above-source-wrapper"),g.on("change","#cozystay_single_page_site_footer_hide_above, #cozystay_single_post_site_footer_hide_above",function(e){o(this).is(":checked")?(d.hide(),_.hide()):(_.show(),"custom"==_.find("select[name=cozystay_single_custom_site_footer_above_source]").val()?d.show():d.hide())}).on("change","select[name=cozystay_single_custom_site_footer_above_source]",function(e){"custom"==o(this).val()?d.show():d.hide()})))}(jQuery);
